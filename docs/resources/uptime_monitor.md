---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "phare_uptime_monitor Resource - phare"
subcategory: ""
description: |-
  Manages a Phare uptime monitor for HTTP or TCP endpoints.
---

# phare_uptime_monitor (Resource)

Manages a Phare uptime monitor for HTTP or TCP endpoints.

## Example Usage

```terraform
# HTTP Monitor Example
resource "phare_uptime_monitor" "website" {
  name     = "Website Monitoring"
  protocol = "http"

  http_request {
    method = "GET"
    url    = "https://example.com"

    # Optional: Skip TLS verification (default: false)
    tls_skip_verify = false

    # Optional: Follow redirects (default: true)
    follow_redirects = true

    # Optional: Custom headers
    headers = [
      {
        name  = "X-Custom-Header"
        value = "custom-value"
      }
    ]
  }

  interval               = 60   # Check every 60 seconds
  timeout                = 5000 # 5 second timeout
  incident_confirmations = 2    # Trigger incident after 2 failed checks
  recovery_confirmations = 2    # Resolve incident after 2 successful checks

  regions = [
    "na-usa-iad", # North America - Virginia
    "eu-deu-fra", # Europe - Frankfurt
    "as-sgp-sin"  # Asia - Singapore
  ]

  # Optional: Success assertions
  success_assertions = [
    {
      type     = "status_code"
      operator = "equals"
      value    = "200"
    },
    {
      type     = "response_body"
      operator = "contains"
      value    = "Welcome"
    }
  ]
}

# TCP Monitor Example
resource "phare_uptime_monitor" "database" {
  name     = "Database TCP Check"
  protocol = "tcp"

  tcp_request {
    host       = "db.example.com"
    port       = "5432"
    connection = "tls"

    # Optional: Skip TLS verification for self-signed certs
    tls_skip_verify = false
  }

  interval               = 120
  timeout                = 10000
  incident_confirmations = 1
  recovery_confirmations = 1
  regions                = ["na-usa-iad"]
}

# Paused Monitor Example
resource "phare_uptime_monitor" "maintenance" {
  name     = "Maintenance Window Monitor"
  protocol = "http"

  http_request {
    method = "HEAD"
    url    = "https://maintenance.example.com"
  }

  interval               = 300
  timeout                = 5000
  incident_confirmations = 1
  recovery_confirmations = 1
  regions                = ["eu-gbr-lhr"]

  # Pause the monitor during maintenance
  paused = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `incident_confirmations` (Number) Number of failed checks required to create an incident (1-5)
- `interval` (Number) Monitoring interval in seconds (30, 60, 120, 180, 300, 600, 900, 1800, 3600)
- `name` (String) Name of the monitor (2-30 characters)
- `protocol` (String) Monitoring protocol: `http` or `tcp`
- `recovery_confirmations` (Number) Number of successful checks required to resolve an incident (1-5)
- `regions` (List of String) List of regions where monitoring checks are performed (1-6 regions)
- `timeout` (Number) Monitoring timeout in milliseconds (1000-30000)

### Optional

- `http_request` (Attributes) HTTP request configuration (required when protocol is `http`) (see [below for nested schema](#nestedatt--http_request))
- `paused` (Boolean) Whether the monitor is paused
- `success_assertions` (Attributes List) List of assertions that must be true for check success (see [below for nested schema](#nestedatt--success_assertions))
- `tcp_request` (Attributes) TCP request configuration (required when protocol is `tcp`) (see [below for nested schema](#nestedatt--tcp_request))

### Read-Only

- `created_at` (String) Timestamp when the monitor was created
- `id` (String) The unique identifier of the monitor
- `updated_at` (String) Timestamp when the monitor was last updated

<a id="nestedatt--http_request"></a>
### Nested Schema for `http_request`

Required:

- `method` (String) HTTP method
- `url` (String) URL to monitor (max 255 characters)

Optional:

- `body` (String) Request body for POST, PUT, PATCH (max 500 characters)
- `follow_redirects` (Boolean) Follow HTTP redirects
- `headers` (Attributes List) Additional HTTP headers (max 10) (see [below for nested schema](#nestedatt--http_request--headers))
- `tls_skip_verify` (Boolean) Skip SSL certificate verification
- `user_agent_secret` (String, Sensitive) Secret value for User-Agent header authentication

<a id="nestedatt--http_request--headers"></a>
### Nested Schema for `http_request.headers`

Required:

- `name` (String) Header name
- `value` (String) Header value



<a id="nestedatt--success_assertions"></a>
### Nested Schema for `success_assertions`

Required:

- `type` (String) Assertion type: `status_code`, `response_header`, or `response_body`

Optional:

- `operator` (String) Comparison operator
- `property` (String) Property name (for response_header type)
- `value` (String) Expected value


<a id="nestedatt--tcp_request"></a>
### Nested Schema for `tcp_request`

Required:

- `connection` (String) Connection type: `plain` or `tls`
- `host` (String) TCP hostname or IP address
- `port` (String) TCP port

Optional:

- `tls_skip_verify` (Boolean) Skip TLS certificate verification
